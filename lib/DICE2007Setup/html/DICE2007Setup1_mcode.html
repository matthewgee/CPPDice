<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1"> 1</a></span><span class="line"><span class="comment">% Sets up the appropriate arrays for the endogenous variables for </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">% the DICE 2007 model, modifying the struct vars</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">% written by Matt Gee</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4"> 4</a></span><span class="line"><span class="comment">% last modified August 23rd, 2012</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5"> 5</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6"> 6</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T4U3">vars</span>] = DICE2007Setup(<span class="var type1" id="S3T1U6">param</span>) <span class="comment">%#codegen</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7"> 7</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8"> 8</a></span><span class="line">    <span class="comment">% Declare the endogenous variables as members of struct vars</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9"> 9</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10">10</a></span><span class="line">    <span class="mxinfo" id="T2:U3"><span class="mxinfo" id="T2:U4"><span class="var type1" id="S2T4U10">vars</span>.welfare</span> = <span class="mxinfo" id="T2:U6">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11">11</a></span><span class="line">    <span class="mxinfo" id="T5:U7"><span class="mxinfo" id="T5:U8"><span class="var type1" id="S2T4U16">vars</span>.utility</span> = <span class="mxinfo" id="T5:U10">zeros(<span class="mxinfo" id="T2:U11"><span class="var type1" id="S3T1U21">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12">12</a></span><span class="line">      <span class="mxinfo" id="T5:U13"><span class="mxinfo" id="T5:U14"><span class="var type1" id="S2T4U27">vars</span>.utilitydiscounted</span> = <span class="mxinfo" id="T5:U16">zeros(<span class="mxinfo" id="T2:U17"><span class="var type1" id="S3T1U32">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,13" id="srcline13">13</a></span><span class="line">    <span class="mxinfo" id="T5:U19"><span class="mxinfo" id="T5:U20"><span class="var type1" id="S2T4U38">vars</span>.consumption</span> = <span class="mxinfo" id="T5:U22">zeros(<span class="mxinfo" id="T2:U23"><span class="var type1" id="S3T1U43">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,14" id="srcline14">14</a></span><span class="line">    <span class="mxinfo" id="T5:U25"><span class="mxinfo" id="T5:U26"><span class="var type1" id="S2T4U49">vars</span>.consumptionpercapita</span> = <span class="mxinfo" id="T5:U28">zeros(<span class="mxinfo" id="T2:U29"><span class="var type1" id="S3T1U54">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,15" id="srcline15">15</a></span><span class="line">    <span class="mxinfo" id="T5:U31"><span class="mxinfo" id="T5:U32"><span class="var type1" id="S2T4U60">vars</span>.investment</span> = <span class="mxinfo" id="T5:U34">zeros(<span class="mxinfo" id="T2:U35"><span class="var type1" id="S3T1U65">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,16" id="srcline16">16</a></span><span class="line">    <span class="mxinfo" id="T5:U37"><span class="mxinfo" id="T5:U38"><span class="var type1" id="S2T4U71">vars</span>.capital</span> = <span class="mxinfo" id="T5:U40">zeros(<span class="mxinfo" id="T2:U41"><span class="var type1" id="S3T1U76">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,17" id="srcline17">17</a></span><span class="line">    <span class="mxinfo" id="T5:U43"><span class="mxinfo" id="T5:U44"><span class="var type1" id="S2T4U82">vars</span>.grossoutput</span> = <span class="mxinfo" id="T5:U46">zeros(<span class="mxinfo" id="T2:U47"><span class="var type1" id="S3T1U87">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,18" id="srcline18">18</a></span><span class="line">    <span class="mxinfo" id="T5:U49"><span class="mxinfo" id="T5:U50"><span class="var type1" id="S2T4U93">vars</span>.output</span> = <span class="mxinfo" id="T5:U52">zeros(<span class="mxinfo" id="T2:U53"><span class="var type1" id="S3T1U98">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,19" id="srcline19">19</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,20" id="srcline20">20</a></span><span class="line">    <span class="mxinfo" id="T5:U55"><span class="mxinfo" id="T5:U56"><span class="var type1" id="S2T4U104">vars</span>.abatement</span> = <span class="mxinfo" id="T5:U58">zeros(<span class="mxinfo" id="T2:U59"><span class="var type1" id="S3T1U109">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,21" id="srcline21">21</a></span><span class="line">    <span class="mxinfo" id="T5:U61"><span class="mxinfo" id="T5:U62"><span class="var type1" id="S2T4U115">vars</span>.emissionsIndustrial</span> = <span class="mxinfo" id="T5:U64">zeros(<span class="mxinfo" id="T2:U65"><span class="var type1" id="S3T1U120">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,22" id="srcline22">22</a></span><span class="line">    <span class="mxinfo" id="T5:U67"><span class="mxinfo" id="T5:U68"><span class="var type1" id="S2T4U126">vars</span>.emissionsTotal</span> = <span class="mxinfo" id="T5:U70">zeros(<span class="mxinfo" id="T2:U71"><span class="var type1" id="S3T1U131">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,23" id="srcline23">23</a></span><span class="line">    <span class="mxinfo" id="T5:U73"><span class="mxinfo" id="T5:U74"><span class="var type1" id="S2T4U137">vars</span>.carbonEmitted</span> = <span class="mxinfo" id="T5:U76">zeros(<span class="mxinfo" id="T2:U77"><span class="var type1" id="S3T1U142">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,24" id="srcline24">24</a></span><span class="line">    <span class="mxinfo" id="T5:U79"><span class="mxinfo" id="T5:U80"><span class="var type1" id="S2T4U148">vars</span>.emissionsControl</span> = <span class="mxinfo" id="T5:U82">zeros(<span class="mxinfo" id="T2:U83"><span class="var type1" id="S3T1U153">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,25" id="srcline25">25</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,26" id="srcline26">26</a></span><span class="line">    <span class="mxinfo" id="T5:U85"><span class="mxinfo" id="T5:U86"><span class="var type1" id="S2T4U159">vars</span>.damage</span> = <span class="mxinfo" id="T5:U88">zeros(<span class="mxinfo" id="T2:U89"><span class="var type1" id="S3T1U164">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,27" id="srcline27">27</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,28" id="srcline28">28</a></span><span class="line">    <span class="mxinfo" id="T5:U91"><span class="mxinfo" id="T5:U92"><span class="var type1" id="S2T4U170">vars</span>.participation</span> = <span class="mxinfo" id="T5:U94">zeros(<span class="mxinfo" id="T2:U95"><span class="var type1" id="S3T1U175">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,29" id="srcline29">29</a></span><span class="line">    <span class="mxinfo" id="T5:U97"><span class="mxinfo" id="T5:U98"><span class="var type1" id="S2T4U181">vars</span>.participationMarkup</span> = <span class="mxinfo" id="T5:U100">zeros(<span class="mxinfo" id="T2:U101"><span class="var type1" id="S3T1U186">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,30" id="srcline30">30</a></span><span class="line">    <span class="mxinfo" id="T5:U103"><span class="mxinfo" id="T5:U104"><span class="var type1" id="S2T4U192">vars</span>.emissionsOutputRatio</span> = <span class="mxinfo" id="T5:U106">zeros(<span class="mxinfo" id="T2:U107"><span class="var type1" id="S3T1U197">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,31" id="srcline31">31</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,32" id="srcline32">32</a></span><span class="line">    <span class="mxinfo" id="T5:U109"><span class="mxinfo" id="T5:U110"><span class="var type1" id="S2T4U203">vars</span>.forcing</span> = <span class="mxinfo" id="T5:U112">zeros(<span class="mxinfo" id="T2:U113"><span class="var type1" id="S3T1U208">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,33" id="srcline33">33</a></span><span class="line">    <span class="mxinfo" id="T5:U115"><span class="mxinfo" id="T5:U116"><span class="var type1" id="S2T4U214">vars</span>.tempAtmosphere</span> = <span class="mxinfo" id="T5:U118">zeros(<span class="mxinfo" id="T2:U119"><span class="var type1" id="S3T1U219">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,34" id="srcline34">34</a></span><span class="line">    <span class="mxinfo" id="T5:U121"><span class="mxinfo" id="T5:U122"><span class="var type1" id="S2T4U225">vars</span>.tempLower</span> = <span class="mxinfo" id="T5:U124">zeros(<span class="mxinfo" id="T2:U125"><span class="var type1" id="S3T1U230">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,35" id="srcline35">35</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,36" id="srcline36">36</a></span><span class="line">    <span class="mxinfo" id="T5:U127"><span class="mxinfo" id="T5:U128"><span class="var type1" id="S2T4U236">vars</span>.massAtmosphere</span> = <span class="mxinfo" id="T5:U130">zeros(<span class="mxinfo" id="T2:U131"><span class="var type1" id="S3T1U241">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,37" id="srcline37">37</a></span><span class="line">    <span class="mxinfo" id="T5:U133"><span class="mxinfo" id="T5:U134"><span class="var type1" id="S2T4U247">vars</span>.massUpper</span> = <span class="mxinfo" id="T5:U136">zeros(<span class="mxinfo" id="T2:U137"><span class="var type1" id="S3T1U252">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,38" id="srcline38">38</a></span><span class="line">    <span class="mxinfo" id="T5:U139"><span class="mxinfo" id="T5:U140"><span class="var type1" id="S2T4U258">vars</span>.massLower</span> = <span class="mxinfo" id="T5:U142">zeros(<span class="mxinfo" id="T2:U143"><span class="var type1" id="S3T1U263">param</span>.tmax</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,39" id="srcline39">39</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,40" id="srcline40">40</a></span><span class="line">    <span class="comment">%Set initial values based on default parameter values</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,41" id="srcline41">41</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,42" id="srcline42">42</a></span><span class="line">    <span class="mxinfo" id="T2:U145"><span class="mxinfo" id="T2:U146"><span class="mxinfo" id="T5:U147"><span class="var type1" id="S2T4U270">vars</span>.capital</span>(<span class="mxinfo" id="T2:U149">1</span>)</span> = <span class="mxinfo" id="T2:U150"><span class="var type1" id="S3T1U274">param</span>.capital</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,43" id="srcline43">43</a></span><span class="line">    <span class="mxinfo" id="T2:U152"><span class="mxinfo" id="T2:U153"><span class="mxinfo" id="T5:U154"><span class="var type1" id="S2T4U280">vars</span>.output</span>(<span class="mxinfo" id="T2:U156">1</span>)</span> = <span class="mxinfo" id="T2:U157"><span class="var type1" id="S3T1U284">param</span>.output</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,44" id="srcline44">44</a></span><span class="line">    <span class="mxinfo" id="T2:U159"><span class="mxinfo" id="T2:U160"><span class="mxinfo" id="T5:U161"><span class="var type1" id="S2T4U290">vars</span>.massAtmosphere</span>(<span class="mxinfo" id="T2:U163">1</span>)</span> = <span class="mxinfo" id="T2:U164"><span class="var type1" id="S3T1U294">param</span>.massAtmosphere</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,45" id="srcline45">45</a></span><span class="line">    <span class="mxinfo" id="T2:U166"><span class="mxinfo" id="T2:U167"><span class="mxinfo" id="T5:U168"><span class="var type1" id="S2T4U300">vars</span>.tempAtmosphere</span>(<span class="mxinfo" id="T2:U170">1</span>)</span> = <span class="mxinfo" id="T2:U171"><span class="var type1" id="S3T1U304">param</span>.tempAtmosphere</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,46" id="srcline46">46</a></span><span class="line">    <span class="mxinfo" id="T2:U173"><span class="mxinfo" id="T2:U174"><span class="mxinfo" id="T5:U175"><span class="var type1" id="S2T4U310">vars</span>.tempLower</span>(<span class="mxinfo" id="T2:U177">1</span>)</span> =  <span class="mxinfo" id="T2:U178"><span class="var type1" id="S3T1U314">param</span>.tempLower</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,47" id="srcline47">47</a></span><span class="line">    <span class="mxinfo" id="T2:U180"><span class="mxinfo" id="T2:U181"><span class="mxinfo" id="T5:U182"><span class="var type1" id="S2T4U320">vars</span>.massUpper</span>(<span class="mxinfo" id="T2:U184">1</span>)</span> = <span class="mxinfo" id="T2:U185"><span class="var type1" id="S3T1U324">param</span>.massUpper</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,48" id="srcline48">48</a></span><span class="line">    <span class="mxinfo" id="T2:U187"><span class="mxinfo" id="T2:U188"><span class="mxinfo" id="T5:U189"><span class="var type1" id="S2T4U330">vars</span>.massLower</span>(<span class="mxinfo" id="T2:U191">1</span>)</span> = <span class="mxinfo" id="T2:U192"><span class="var type1" id="S3T1U334">param</span>.massLower</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,49" id="srcline49">49</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,50" id="srcline50">50</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,51" id="srcline51">51</a></span><span class="line"><span class="keyword">end</span></span></span>
</pre>
