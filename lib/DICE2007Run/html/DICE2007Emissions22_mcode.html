<pre class="code">
<span class="srcline"><span class="lineno"><a href="9,31" id="srcline31"> 31</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="9,32" id="srcline32"> 32</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S17T1U156">vars</span>] = DICE2007Emissions(<span class="mxinfo" id="T1:U2"><span class="mxinfo" id="T1:U3"><span class="var type1" id="S17T1U159">vars</span></span></span>, <span class="var type1" id="S18T4U160">param</span>, <span class="var type1" id="S19T2U161">t</span>) </span></span>
<span class="srcline"><span class="lineno"><a href="9,33" id="srcline33"> 33</a></span><span class="line">    <span class="comment">%display(param.miu(t));</span></span></span>
<span class="srcline"><span class="lineno"><a href="9,34" id="srcline34"> 34</a></span><span class="line">    <span class="comment">% A.10</span></span></span>
<span class="srcline"><span class="lineno"><a href="9,35" id="srcline35"> 35</a></span><span class="line">    <span class="mxinfo" id="T2:U7"><span class="mxinfo" id="T2:U8"><span class="mxinfo" id="T3:U9"><span class="var type1" id="S17T1U166">vars</span>.emissionsIndustrial</span>(<span class="var type1" id="S19T2U168">t</span>)</span> = <span class="mxinfo" id="T2:U12"><span class="mxinfo" id="T2:U13"><span class="mxinfo" id="T2:U14"><span class="mxinfo" id="T2:U15"><span class="mxinfo" id="T2:U16"><span class="mxinfo" id="T2:U17">10</span> * <span class="mxinfo" id="T2:U18"><span class="mxinfo" id="T3:U19"><span class="var type1" id="S18T4U177">param</span>.sigma</span>(<span class="var type1" id="S19T2U179">t</span>)</span></span> * (<span class="mxinfo" id="T2:U22"><span class="mxinfo" id="T2:U23">1</span> - <span class="mxinfo" id="T2:U24"><span class="mxinfo" id="T3:U25"><span class="var type1" id="S18T4U185">param</span>.miu</span>(<span class="var type1" id="S19T2U187">t</span>)</span></span>)</span> * <span class="mxinfo" id="T2:U28"><span class="mxinfo" id="T3:U29"><span class="var type1" id="S18T4U190">param</span>.al</span>(<span class="var type1" id="S19T2U192">t</span>)</span></span> * (<span class="mxinfo" id="T2:U32"><span class="mxinfo" id="T2:U33"><span class="mxinfo" id="T3:U34"><span class="var type1" id="S17T1U197">vars</span>.capital</span>(<span class="var type1" id="S19T2U199">t</span>)</span>^<span class="mxinfo" id="T2:U37"><span class="var type1" id="S18T4U201">param</span>.gama</span></span>)</span> * (<span class="mxinfo" id="T2:U39"><span class="mxinfo" id="T2:U40"><span class="mxinfo" id="T3:U41"><span class="var type1" id="S18T4U207">param</span>.l</span>(<span class="var type1" id="S19T2U209">t</span>)</span>^(<span class="mxinfo" id="T2:U44"><span class="mxinfo" id="T2:U45">1</span>-<span class="mxinfo" id="T2:U46"><span class="var type1" id="S18T4U214">param</span>.gama</span></span>)</span>)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="9,36" id="srcline36"> 36</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="9,37" id="srcline37"> 37</a></span><span class="line">    <span class="comment">% Set miu if beyond emissions level cap (vs. baseline = 2005)</span></span></span>
<span class="srcline"><span class="lineno"><a href="9,38" id="srcline38"> 38</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo" id="T7:U48"><span class="mxinfo" id="T2:U49"><span class="mxinfo" id="T3:U50"><span class="var type1" id="S17T1U221">vars</span>.emissionsIndustrial</span>(<span class="var type1" id="S19T2U223">t</span>)</span> &gt; (<span class="mxinfo" id="T2:U53"><span class="mxinfo" id="T2:U54"><span class="mxinfo" id="T3:U55"><span class="var type1" id="S18T4U228">param</span>.e2005cap</span>(<span class="var type1" id="S19T2U230">t</span>)</span> * <span class="mxinfo" id="T2:U58"><span class="var type1" id="S18T4U232">param</span>.e2005</span></span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="9,39" id="srcline39"> 39</a></span><span class="line">        <span class="mxinfo" id="T2:U60"><span class="mxinfo" id="T2:U61"><span class="mxinfo" id="T3:U62"><span class="var type1" id="S18T4U238">param</span>.miu</span>(<span class="var type1" id="S19T2U240">t</span>)</span> = <span class="mxinfo" id="T2:U65"><span class="mxinfo" id="T2:U66">1</span> - <span class="mxinfo" id="T2:U67">(<span class="mxinfo" id="T2:U68"><span class="mxinfo" id="T2:U69"><span class="mxinfo" id="T3:U70"><span class="var type1" id="S18T4U248">param</span>.e2005cap</span>(<span class="var type1" id="S19T2U250">t</span>)</span> * <span class="mxinfo" id="T2:U73"><span class="var type1" id="S18T4U252">param</span>.e2005</span></span>) / (<span class="mxinfo" id="T2:U75"><span class="mxinfo" id="T2:U76"><span class="mxinfo" id="T2:U77"><span class="mxinfo" id="T2:U78"><span class="mxinfo" id="T2:U79">10</span> * <span class="mxinfo" id="T2:U80"><span class="mxinfo" id="T3:U81"><span class="var type1" id="S18T4U262">param</span>.sigma</span>(<span class="var type1" id="S19T2U264">t</span>)</span></span> * <span class="mxinfo" id="T2:U84"><span class="mxinfo" id="T3:U85"><span class="var type1" id="S18T4U267">param</span>.al</span>(<span class="var type1" id="S19T2U269">t</span>)</span></span> * (<span class="mxinfo" id="T2:U88"><span class="mxinfo" id="T2:U89"><span class="mxinfo" id="T3:U90"><span class="var type1" id="S17T1U274">vars</span>.capital</span>(<span class="var type1" id="S19T2U276">t</span>)</span>^<span class="mxinfo" id="T2:U93"><span class="var type1" id="S18T4U278">param</span>.gama</span></span>)</span> * (<span class="mxinfo" id="T2:U95"><span class="mxinfo" id="T2:U96"><span class="mxinfo" id="T3:U97"><span class="var type1" id="S18T4U284">param</span>.l</span>(<span class="var type1" id="S19T2U286">t</span>)</span>^(<span class="mxinfo" id="T2:U100"><span class="mxinfo" id="T2:U101">1</span>-<span class="mxinfo" id="T2:U102"><span class="var type1" id="S18T4U291">param</span>.gama</span></span>)</span>)</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="9,40" id="srcline40"> 40</a></span><span class="line">        <span class="mxinfo" id="T2:U104"><span class="mxinfo" id="T2:U105"><span class="mxinfo" id="T3:U106"><span class="var type1" id="S17T1U297">vars</span>.emissionsIndustrial</span>(<span class="var type1" id="S19T2U299">t</span>)</span> = <span class="mxinfo" id="T2:U109"><span class="mxinfo" id="T2:U110"><span class="mxinfo" id="T3:U111"><span class="var type1" id="S18T4U303">param</span>.e2005cap</span>(<span class="var type1" id="S19T2U305">t</span>)</span> * <span class="mxinfo" id="T2:U114"><span class="var type1" id="S18T4U307">param</span>.e2005</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="9,41" id="srcline41"> 41</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="9,42" id="srcline42"> 42</a></span><span class="line">    <span class="comment">% A.10  Scaled for 10-year time step</span></span></span>
<span class="srcline"><span class="lineno"><a href="9,43" id="srcline43"> 43</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="9,44" id="srcline44"> 44</a></span><span class="line">    <span class="comment">% A.12</span></span></span>
<span class="srcline"><span class="lineno"><a href="9,45" id="srcline45"> 45</a></span><span class="line">    <span class="mxinfo" id="T2:U116"><span class="mxinfo" id="T2:U117"><span class="mxinfo" id="T3:U118"><span class="var type1" id="S17T1U313">vars</span>.emissionsTotal</span>(<span class="var type1" id="S19T2U315">t</span>)</span> = <span class="mxinfo" id="T2:U121"><span class="mxinfo" id="T2:U122"><span class="mxinfo" id="T3:U123"><span class="var type1" id="S17T1U319">vars</span>.emissionsIndustrial</span>(<span class="var type1" id="S19T2U321">t</span>)</span> + <span class="mxinfo" id="T2:U126"><span class="mxinfo" id="T3:U127"><span class="var type1" id="S18T4U324">param</span>.etree</span>(<span class="var type1" id="S19T2U326">t</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="9,46" id="srcline46"> 46</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo" id="T7:U130"><span class="var type1" id="S19T2U330">t</span> &gt; <span class="mxinfo" id="T2:U132">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="9,47" id="srcline47"> 47</a></span><span class="line">        <span class="mxinfo" id="T2:U133"><span class="mxinfo" id="T2:U134"><span class="mxinfo" id="T3:U135"><span class="var type1" id="S17T1U336">vars</span>.carbonEmitted</span>(<span class="var type1" id="S19T2U338">t</span>)</span> = <span class="mxinfo" id="T2:U138"><span class="mxinfo" id="T2:U139"><span class="mxinfo" id="T3:U140"><span class="var type1" id="S17T1U342">vars</span>.carbonEmitted</span>(<span class="mxinfo" id="T2:U142"><span class="var type1" id="S19T2U345">t</span>-<span class="mxinfo" id="T2:U144">1</span></span>)</span> + <span class="mxinfo" id="T2:U145"><span class="mxinfo" id="T3:U146"><span class="var type1" id="S17T1U349">vars</span>.emissionsTotal</span>(<span class="var type1" id="S19T2U351">t</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="9,48" id="srcline48"> 48</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="9,49" id="srcline49"> 49</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="9,50" id="srcline50"> 50</a></span><span class="line">    <span class="comment">% Set miu if out of carbon to emit</span></span></span>
<span class="srcline"><span class="lineno"><a href="9,51" id="srcline51"> 51</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo" id="T7:U149"><span class="mxinfo" id="T2:U150"><span class="mxinfo" id="T3:U151"><span class="var type1" id="S17T1U357">vars</span>.carbonEmitted</span>(<span class="var type1" id="S19T2U359">t</span>)</span> &gt; <span class="mxinfo" id="T2:U154"><span class="var type1" id="S18T4U361">param</span>.fosslim</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="9,52" id="srcline52"> 52</a></span><span class="line">        <span class="comment">%display(t);</span></span></span>
<span class="srcline"><span class="lineno"><a href="9,53" id="srcline53"> 53</a></span><span class="line">        <span class="comment">%display(vars.carbonEmitted(t));</span></span></span>
<span class="srcline"><span class="lineno"><a href="9,54" id="srcline54"> 54</a></span><span class="line">        <span class="comment">%display(param.fosslim);</span></span></span>
<span class="srcline"><span class="lineno"><a href="9,55" id="srcline55"> 55</a></span><span class="line">        <span class="comment">%pause;</span></span></span>
<span class="srcline"><span class="lineno"><a href="9,56" id="srcline56"> 56</a></span><span class="line">        <span class="mxinfo" id="T2:U156"><span class="mxinfo" id="T2:U157"><span class="mxinfo" id="T3:U158"><span class="var type1" id="S18T4U367">param</span>.miu</span>(<span class="var type1" id="S19T2U369">t</span>)</span> = <span class="mxinfo" id="T2:U161">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="9,57" id="srcline57"> 57</a></span><span class="line">        <span class="mxinfo" id="T2:U162"><span class="mxinfo" id="T2:U163"><span class="mxinfo" id="T3:U164"><span class="var type1" id="S17T1U375">vars</span>.emissionsTotal</span>(<span class="var type1" id="S19T2U377">t</span>)</span> = <span class="mxinfo" id="T2:U167">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="9,58" id="srcline58"> 58</a></span><span class="line">        <span class="mxinfo" id="T2:U168"><span class="mxinfo" id="T2:U169"><span class="mxinfo" id="T3:U170"><span class="var type1" id="S17T1U383">vars</span>.carbonEmitted</span>(<span class="var type1" id="S19T2U385">t</span>)</span> = <span class="mxinfo" id="T2:U173"><span class="var type1" id="S18T4U387">param</span>.fosslim</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="9,59" id="srcline59"> 59</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="9,60" id="srcline60"> 60</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="9,61" id="srcline61"> 61</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="9,62" id="srcline62"> 62</a></span><span class="line"></span></span>
</pre>
